{"version":3,"sources":["UseAxios.tsx","Movie.tsx","App.tsx","index.tsx"],"names":["UseAxios","opts","axiosInstance","defaultAxios","useState","loading","error","data","state","setState","trigger","setTrigger","refetch","Date","now","useEffect","url","split","headers","then","movies","catch","Movie","info","className","src","poster","alt","title","year","genre","map","index","key","summary","slice","App","console","log","movie","id","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iPAoDeA,EA5CE,SAACC,GAAyD,IAAlCC,EAAiC,uDAAjBC,IAAiB,EAC5CC,mBAAS,CAC/BC,SAAS,EACTC,MAAO,KACPC,KAAM,KAJ4D,mBAC/DC,EAD+D,KACxDC,EADwD,OAOxCL,mBAAS,GAP+B,mBAO/DM,EAP+D,KAOtDC,EAPsD,KAShEC,EAAU,WACZH,EAAS,2BACFD,GADC,IAEJH,SAAS,KAEbM,EAAWE,KAAKC,QA2BpB,OAxBAC,qBAAU,WACFd,EAAKe,KACLd,EAAc,uCAAD,OAAwCD,EAAKe,IAAIC,MAAM,OAAO,IAAM,CAC7EC,QAAS,CACL,eAAgB,oCAChB,8BAA+B,IAC/B,+BAAgC,8BAChC,+BAAgC,mEAGnCC,MAAK,SAAAZ,GACFE,EAAS,2BACFD,GADC,IAEJH,SAAS,EACTE,KAAMA,EAAKA,KAAKA,KAAKa,aAI5BC,OAAM,SAAAf,GACHG,EAAS,2BAAKD,GAAN,IAAaH,SAAS,EAAOC,gBAGlD,CAACI,IAEG,2BAAKF,GAAZ,IAAmBI,a,MCfRU,MAtBf,SAAeC,GAEX,OACI,yBAAKC,UAAU,SACX,yBAAKC,IAAKF,EAAKG,OAAQC,IAAKJ,EAAKK,MAAOA,MAAOL,EAAKK,QACpD,yBAAKJ,UAAU,cACX,wBAAIA,UAAU,eAAeD,EAAKK,OAClC,wBAAIJ,UAAU,cAAcD,EAAKM,MACjC,wBAAIL,UAAU,gBACTD,EAAKO,OAASP,EAAKO,MAAMC,KAAI,SAACD,EAAeE,GAAhB,OAC1B,wBAAIC,IAAKD,EAAOR,UAAU,gBAAgBM,OAIlD,uBAAGN,UAAU,iBAAiBD,EAAKW,QAAQC,MAAM,EAAG,KAApD,UCeDC,MAnCf,WAAgB,IAAD,EAC6BpC,EAAS,CAAEgB,IAAK,0DAAlDX,EADK,EACLA,QAAgBE,GADX,EACID,MADJ,EACWC,MAElBa,GAHO,EACiBR,QAEfL,GAGf,OAFA8B,QAAQC,MAGN,uBAAKd,UAAU,OACb,2BAASA,UAAU,aAChBnB,EACC,uBAAKmB,UAAU,UACb,wBAAMA,UAAU,eAAhB,eAGF,uBAAKA,UAAU,UACbJ,EAAOW,KAAI,SAAAQ,GAET,OAAO,gBAAC,EAAD,CACLN,IAAKM,EAAK,GACVC,GAAID,EAAK,GACTV,KAAMU,EAAK,KACXX,MAAOW,EAAK,MACZL,QAASK,EAAK,QACdb,OAAQa,EAAK,mBACbT,MAAOS,EAAK,gBC1B5BE,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.2ac3692c.chunk.js","sourcesContent":["import * as React from 'react';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport defaultAxios from \"axios\";\r\n\r\ninterface movies {\r\n\r\n}\r\n\r\nconst UseAxios = (opts: { url: string }, axiosInstance = defaultAxios) => {\r\n    const [state, setState] = useState({\r\n        loading: true,\r\n        error: null,\r\n        data: []\r\n    });\r\n\r\n    const [trigger, setTrigger] = useState(0);\r\n\r\n    const refetch = () => {\r\n        setState({\r\n            ...state,\r\n            loading: true\r\n        });\r\n        setTrigger(Date.now());\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (opts.url) {\r\n            axiosInstance(`https://cors-anywhere.herokuapp.com/${opts.url.split('://')[1]}`, {\r\n                headers: {\r\n                    'Content-Type': 'application/x-www-form-urlencoded',\r\n                    'Access-Control-Allow-Origin': '*',\r\n                    'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,OPTIONS',\r\n                    'Access-Control-Allow-Headers': 'Content-Type, Authorization, Content-Length, X-Requested-With'\r\n                }\r\n            })\r\n                .then(data => {\r\n                    setState({\r\n                        ...state,\r\n                        loading: false,\r\n                        data: data.data.data.movies\r\n                    })\r\n                    //console.log(state);\r\n                })\r\n                .catch(error => {\r\n                    setState({ ...state, loading: false, error })\r\n                })\r\n        }\r\n    }, [trigger]);\r\n\r\n    return { ...state, refetch }\r\n}\r\n\r\nexport default UseAxios;","import React from \"react\";\r\nimport \"./App.css\";\r\n\r\ninterface info {\r\n    id: number,\r\n    year: number,\r\n    title: string,\r\n    summary: string,\r\n    poster: string,\r\n    genre: string[]\r\n}\r\n\r\nfunction Movie(info: info) {\r\n\r\n    return (\r\n        <div className=\"movie\">\r\n            <img src={info.poster} alt={info.title} title={info.title} />\r\n            <div className=\"movie_data\">\r\n                <h3 className=\"movie_title\">{info.title}</h3>\r\n                <h5 className=\"movie_year\">{info.year}</h5>\r\n                <ul className=\"movie_genres\">\r\n                    {info.genre && info.genre.map((genre: string, index: number) => (\r\n                        <li key={index} className=\"genres_genre\">{genre}</li>\r\n                    ))}\r\n\r\n                </ul>\r\n                <p className=\"movie_summary\">{info.summary.slice(0, 140)}...</p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default Movie;","import * as React from 'react';\r\n//import { useState, useEffect, useRef } from 'react';\r\nimport UseAxios from \"./UseAxios\"\r\nimport Movie from \"./Movie\"\r\nimport \"./App.css\";\r\n\r\nfunction App() {\r\n  const { loading, error, data, refetch } = UseAxios({ url: \"https://yts.am/api/v2/list_movies.json?sort_by=rating\" });\r\n  //console.log(loading, error, data);\r\n  const movies = data;\r\n  console.log();\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <section className=\"container\">\r\n        {loading ?\r\n          <div className=\"loader\">\r\n            <span className=\"loader_text\">Loading...</span>\r\n          </div>\r\n          :\r\n          <div className=\"movies\">{\r\n            movies.map(movie => {\r\n              //console.log(movie['title']);\r\n              return <Movie\r\n                key={movie['id']}\r\n                id={movie['id']}\r\n                year={movie['year']}\r\n                title={movie['title']}\r\n                summary={movie['summary']}\r\n                poster={movie['medium_cover_image']}\r\n                genre={movie['genres']}\r\n              />\r\n            })}\r\n          </div>\r\n        }\r\n      </section>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}